(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3243,e=>{"use strict";let t=()=>{let e=localStorage.getItem("nexus_server_url");return e||""};async function r(e,s={}){let i=t(),n=e.startsWith("http")?e:`${i}${e}`;return await fetch(n,s)}function s(e){if(!e)return"";if(e.startsWith("http")||e.startsWith("data:"))return e;let r=t();return`${r}${e}`}e.s(["apiFetch",()=>r,"resolveUrl",()=>s])},87092,e=>{"use strict";var t=e.i(90177);e.s(["Loader2",()=>t.default])},12445,e=>{"use strict";let t;var r=e.i(35533),s=e.i(33520),i=e.i(92773),n=e.i(29587),a=e.i(6859),o=e.i(2375),l=e.i(84481),c=class extends n.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#r=(0,a.pendingThenable)(),this.bindMethods(),this.setOptions(t)}#e;#s=void 0;#i=void 0;#n=void 0;#a;#o;#r;#t;#l;#c;#u;#d;#h;#f;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#s.addObserver(this),u(this.#s,this.options)?this.#m():this.updateResult(),this.#g())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return d(this.#s,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return d(this.#s,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#v(),this.#s.removeObserver(this)}setOptions(e){let t=this.options,r=this.#s;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,o.resolveEnabled)(this.options.enabled,this.#s))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#s.setOptions(this.options),t._defaulted&&!(0,o.shallowEqualObjects)(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#s,observer:this});let s=this.hasListeners();s&&h(this.#s,r,this.options,t)&&this.#m(),this.updateResult(),s&&(this.#s!==r||(0,o.resolveEnabled)(this.options.enabled,this.#s)!==(0,o.resolveEnabled)(t.enabled,this.#s)||(0,o.resolveStaleTime)(this.options.staleTime,this.#s)!==(0,o.resolveStaleTime)(t.staleTime,this.#s))&&this.#y();let i=this.#w();s&&(this.#s!==r||(0,o.resolveEnabled)(this.options.enabled,this.#s)!==(0,o.resolveEnabled)(t.enabled,this.#s)||i!==this.#f)&&this.#R(i)}getOptimisticResult(e){var t,r;let s=this.#e.getQueryCache().build(this.#e,e),i=this.createResult(s,e);return t=this,r=i,(0,o.shallowEqualObjects)(t.getCurrentResult(),r)||(this.#n=i,this.#o=this.options,this.#a=this.#s.state),i}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),"promise"===r&&(this.trackProp("data"),this.options.experimental_prefetchInRender||"pending"!==this.#r.status||this.#r.reject(Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(e,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#s}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#m({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#m(e){this.#b();let t=this.#s.fetch(this.options,e);return e?.throwOnError||(t=t.catch(o.noop)),t}#y(){this.#x();let e=(0,o.resolveStaleTime)(this.options.staleTime,this.#s);if(o.isServer||this.#n.isStale||!(0,o.isValidTimeout)(e))return;let t=(0,o.timeUntilStale)(this.#n.dataUpdatedAt,e);this.#d=l.timeoutManager.setTimeout(()=>{this.#n.isStale||this.updateResult()},t+1)}#w(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#s):this.options.refetchInterval)??!1}#R(e){this.#v(),this.#f=e,!o.isServer&&!1!==(0,o.resolveEnabled)(this.options.enabled,this.#s)&&(0,o.isValidTimeout)(this.#f)&&0!==this.#f&&(this.#h=l.timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||r.focusManager.isFocused())&&this.#m()},this.#f))}#g(){this.#y(),this.#R(this.#w())}#x(){this.#d&&(l.timeoutManager.clearTimeout(this.#d),this.#d=void 0)}#v(){this.#h&&(l.timeoutManager.clearInterval(this.#h),this.#h=void 0)}createResult(e,t){let r,s=this.#s,n=this.options,l=this.#n,c=this.#a,d=this.#o,p=e!==s?e.state:this.#i,{state:m}=e,g={...m},x=!1;if(t._optimisticResults){let r=this.hasListeners(),a=!r&&u(e,t),o=r&&h(e,s,t,n);(a||o)&&(g={...g,...(0,i.fetchState)(m.data,e.options)}),"isRestoring"===t._optimisticResults&&(g.fetchStatus="idle")}let{error:v,errorUpdatedAt:b,status:y}=g;r=g.data;let w=!1;if(void 0!==t.placeholderData&&void 0===r&&"pending"===y){let e;l?.isPlaceholderData&&t.placeholderData===d?.placeholderData?(e=l.data,w=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#u?.state.data,this.#u):t.placeholderData,void 0!==e&&(y="success",r=(0,o.replaceData)(l?.data,e,t),x=!0)}if(t.select&&void 0!==r&&!w)if(l&&r===c?.data&&t.select===this.#l)r=this.#c;else try{this.#l=t.select,r=t.select(r),r=(0,o.replaceData)(l?.data,r,t),this.#c=r,this.#t=null}catch(e){this.#t=e}this.#t&&(v=this.#t,r=this.#c,b=Date.now(),y="error");let R="fetching"===g.fetchStatus,S="pending"===y,I="error"===y,O=S&&R,C=void 0!==r,j={status:y,fetchStatus:g.fetchStatus,isPending:S,isSuccess:"success"===y,isError:I,isInitialLoading:O,isLoading:O,data:r,dataUpdatedAt:g.dataUpdatedAt,error:v,errorUpdatedAt:b,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>p.dataUpdateCount||g.errorUpdateCount>p.errorUpdateCount,isFetching:R,isRefetching:R&&!S,isLoadingError:I&&!C,isPaused:"paused"===g.fetchStatus,isPlaceholderData:x,isRefetchError:I&&C,isStale:f(e,t),refetch:this.refetch,promise:this.#r,isEnabled:!1!==(0,o.resolveEnabled)(t.enabled,e)};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===j.status?e.reject(j.error):void 0!==j.data&&e.resolve(j.data)},r=()=>{t(this.#r=j.promise=(0,a.pendingThenable)())},i=this.#r;switch(i.status){case"pending":e.queryHash===s.queryHash&&t(i);break;case"fulfilled":("error"===j.status||j.data!==i.value)&&r();break;case"rejected":("error"!==j.status||j.error!==i.reason)&&r()}}return j}updateResult(){let e=this.#n,t=this.createResult(this.#s,this.options);if(this.#a=this.#s.state,this.#o=this.options,void 0!==this.#a.data&&(this.#u=this.#s),(0,o.shallowEqualObjects)(t,e))return;this.#n=t;let r=()=>{if(!e)return!0;let{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#p.size)return!0;let s=new Set(r??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#n).some(t=>this.#n[t]!==e[t]&&s.has(t))};this.#S({listeners:r()})}#b(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#s)return;let t=this.#s;this.#s=e,this.#i=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#g()}#S(e){s.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#s,type:"observerResultsUpdated"})})}};function u(e,t){return!1!==(0,o.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&d(e,t,t.refetchOnMount)}function d(e,t,r){if(!1!==(0,o.resolveEnabled)(t.enabled,e)&&"static"!==(0,o.resolveStaleTime)(t.staleTime,e)){let s="function"==typeof r?r(e):r;return"always"===s||!1!==s&&f(e,t)}return!1}function h(e,t,r,s){return(e!==t||!1===(0,o.resolveEnabled)(s.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&f(e,r)}function f(e,t){return!1!==(0,o.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,o.resolveStaleTime)(t.staleTime,e))}e.i(93957);var p=e.i(81232),m=e.i(72222);e.i(57715);var g=p.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),x=p.createContext(!1);x.Provider;var v=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function b(e,t){return function(e,t,r){let i,n=p.useContext(x),a=p.useContext(g),l=(0,m.useQueryClient)(r),c=l.defaultQueryOptions(e);l.getDefaultOptions().queries?._experimental_beforeQuery?.(c);let u=l.getQueryCache().get(c.queryHash);if(c._optimisticResults=n?"isRestoring":"optimistic",c.suspense){let e=e=>"static"===e?e:Math.max(e??1e3,1e3),t=c.staleTime;c.staleTime="function"==typeof t?(...r)=>e(t(...r)):e(t),"number"==typeof c.gcTime&&(c.gcTime=Math.max(c.gcTime,1e3))}i=u?.state.error&&"function"==typeof c.throwOnError?(0,o.shouldThrowError)(c.throwOnError,[u.state.error,u]):c.throwOnError,(c.suspense||c.experimental_prefetchInRender||i)&&!a.isReset()&&(c.retryOnMount=!1),p.useEffect(()=>{a.clearReset()},[a]);let d=!l.getQueryCache().get(c.queryHash),[h]=p.useState(()=>new t(l,c)),f=h.getOptimisticResult(c),b=!n&&!1!==e.subscribed;if(p.useSyncExternalStore(p.useCallback(e=>{let t=b?h.subscribe(s.notifyManager.batchCalls(e)):o.noop;return h.updateResult(),t},[h,b]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),p.useEffect(()=>{h.setOptions(c)},[c,h]),c?.suspense&&f.isPending)throw v(c,h,a);if((({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(i&&void 0===e.data||(0,o.shouldThrowError)(r,[e.error,s])))({result:f,errorResetBoundary:a,throwOnError:c.throwOnError,query:u,suspense:c.suspense}))throw f.error;if(l.getDefaultOptions().queries?._experimental_afterQuery?.(c,f),c.experimental_prefetchInRender&&!o.isServer&&f.isLoading&&f.isFetching&&!n){let e=d?v(c,h,a):u?.promise;e?.catch(o.noop).finally(()=>{h.updateResult()})}return c.notifyOnChangeProps?f:h.trackResult(f)}(e,c,t)}e.s(["useQuery",()=>b],12445)},69977,e=>{"use strict";var t=e.i(57715),r=e.i(79548),s=e.i(23738),i=e.i(65833);let n=(0,s.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function a({className:e,variant:s,asChild:a=!1,...o}){let l=a?r.Slot:"span";return(0,t.jsx)(l,{"data-slot":"badge",className:(0,i.cn)(n({variant:s}),e),...o})}e.s(["Badge",()=>a])},1689,e=>{"use strict";var t=e.i(57715),r=e.i(12445),s=e.i(3243),i=e.i(18855),n=e.i(69977),a=e.i(87092),o=e.i(25446),l=e.i(16239),c=e.i(65833),u=e.i(88344),d=e.i(81232),h=e.i(51603);let f={some:0,all:1};function p(e,{root:t,margin:r,amount:s,once:i=!1,initial:n=!1}={}){let[a,o]=(0,d.useState)(n);return(0,d.useEffect)(()=>{if(!e.current||i&&a)return;let n={root:t&&t.current||void 0,margin:r,amount:s};return function(e,t,{root:r,margin:s,amount:i="some"}={}){let n=(0,h.resolveElements)(e),a=new WeakMap,o=new IntersectionObserver(e=>{e.forEach(e=>{let r=a.get(e.target);if(!!r!==e.isIntersecting)if(e.isIntersecting){let r=t(e.target,e);"function"==typeof r?a.set(e.target,r):o.unobserve(e.target)}else"function"==typeof r&&(r(e),a.delete(e.target))})},{root:r,rootMargin:s,threshold:"number"==typeof i?i:f[i]});return n.forEach(e=>o.observe(e)),()=>o.disconnect()}(e.current,()=>(o(!0),i?void 0:()=>o(!1)),n)},[t,e,r,i,s]),a}let m="u">typeof window?d.useLayoutEffect:d.useEffect;function g(e){if(void 0!==e)switch(typeof e){case"number":return e;case"string":if(e.endsWith("px"))return parseFloat(e)}}function x(e){let t=(0,d.useRef)(()=>{throw Error("Cannot call during render.")});return m(()=>{t.current=e},[e]),(0,d.useCallback)(e=>t.current?.(e),[t])}let v=null;function b({containerElement:e,direction:t,isRtl:r,scrollOffset:s}){if("horizontal"===t&&r)switch(function(e=!1){if(null===v||e){let e=document.createElement("div"),t=e.style;t.width="50px",t.height="50px",t.overflow="scroll",t.direction="rtl";let r=document.createElement("div"),s=r.style;return s.width="100px",s.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?v="positive-descending":(e.scrollLeft=1,v=0===e.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(e),v}return v}()){case"negative":return-s;case"positive-descending":if(e){let{clientWidth:t,scrollLeft:r,scrollWidth:s}=e;return s-t-r}}return s}function y(e,t="Assertion error"){if(!e)throw console.error(t),Error(t)}function w(e,t){if(e===t)return!0;if(!!e!=!!t||(y(void 0!==e),y(void 0!==t),Object.keys(e).length!==Object.keys(t).length))return!1;for(let r in e)if(!Object.is(t[r],e[r]))return!1;return!0}function R({cachedBounds:e,itemCount:t,itemSize:r}){if(0===t)return 0;if("number"==typeof r)return t*r;{let r=e.get(0===e.size?0:e.size-1);return y(void 0!==r,"Unexpected bounds cache miss"),t*((r.scrollOffset+r.size)/e.size)}}function S({cachedBounds:e,containerScrollOffset:t,containerSize:r,itemCount:s,overscanCount:i}){let n=s-1,a=0,o=-1,l=0,c=-1,u=0;for(;u<n;){let r=e.get(u);if(r.scrollOffset+r.size>t)break;u++}for(l=Math.max(0,(a=u)-i);u<n;){let s=e.get(u);if(s.scrollOffset+s.size>=t+r)break;u++}return c=Math.min(s-1,(o=Math.min(n,u))+i),a<0&&(a=0,o=-1,l=0,c=-1),{startIndexVisible:a,stopIndexVisible:o,startIndexOverscan:l,stopIndexOverscan:c}}function I(e,t){let{ariaAttributes:r,style:s,...i}=e,{ariaAttributes:n,style:a,...o}=t;return w(r,n)&&w(s,a)&&w(i,o)}d.useState,d.useRef;let O="data-react-window-index";function C({children:e,className:r,defaultHeight:s=0,listRef:i,onResize:n,onRowsRendered:a,overscanCount:o=3,rowComponent:l,rowCount:c,rowHeight:u,rowProps:h,tagName:f="div",style:p,...v}){let C=(0,d.useMemo)(()=>h,Object.values(h)),j=(0,d.useMemo)(()=>(0,d.memo)(l,I),[l]),[E,k]=(0,d.useState)(null),z=null!=u&&"object"==typeof u&&"getAverageRowHeight"in u&&"function"==typeof u.getAverageRowHeight,{getCellBounds:T,getEstimatedSize:Q,scrollToIndex:N,startIndexOverscan:M,startIndexVisible:L,stopIndexOverscan:F,stopIndexVisible:U}=function({containerElement:e,containerStyle:t,defaultContainerSize:r=0,direction:s,isRtl:i=!1,itemCount:n,itemProps:a,itemSize:o,onResize:l,overscanCount:c}){let[u,h]=(0,d.useState)({startIndexVisible:0,startIndexOverscan:0,stopIndexVisible:-1,stopIndexOverscan:-1}),{startIndexVisible:f,startIndexOverscan:p,stopIndexVisible:v,stopIndexOverscan:I}={startIndexVisible:Math.min(n-1,u.startIndexVisible),startIndexOverscan:Math.min(n-1,u.startIndexOverscan),stopIndexVisible:Math.min(n-1,u.stopIndexVisible),stopIndexOverscan:Math.min(n-1,u.stopIndexOverscan)},{height:O=r,width:C=r}=function({box:e,defaultHeight:t,defaultWidth:r,disabled:s,element:i,mode:n,style:a}){let{styleHeight:o,styleWidth:l}=(0,d.useMemo)(()=>({styleHeight:g(a?.height),styleWidth:g(a?.width)}),[a?.height,a?.width]),[c,u]=(0,d.useState)({height:t,width:r}),h=s||"only-height"===n&&void 0!==o||"only-width"===n&&void 0!==l||void 0!==o&&void 0!==l;return m(()=>{if(null===i||h)return;let t=new ResizeObserver(e=>{for(let t of e){let{contentRect:e,target:r}=t;i===r&&u(t=>t.height===e.height&&t.width===e.width?t:{height:e.height,width:e.width})}});return t.observe(i,{box:e}),()=>{t?.unobserve(i)}},[e,h,i,o,l]),(0,d.useMemo)(()=>({height:o??c.height,width:l??c.width}),[c,o,l])}({defaultHeight:"vertical"===s?r:void 0,defaultWidth:"horizontal"===s?r:void 0,element:e,mode:"vertical"===s?"only-height":"only-width",style:t}),j=(0,d.useRef)({height:0,width:0}),E="vertical"===s?O:C,k=function({containerSize:e,itemSize:t}){let r;return"string"==typeof t?(y(t.endsWith("%"),`Invalid item size: "${t}"; string values must be percentages (e.g. "100%")`),y(void 0!==e,"Container size must be defined if a percentage item size is specified"),r=e*parseInt(t)/100):r=t,r}({containerSize:E,itemSize:o});(0,d.useLayoutEffect)(()=>{if("function"==typeof l){let e=j.current;(e.height!==O||e.width!==C)&&(l({height:O,width:C},{...e}),e.height=O,e.width=C)}},[O,l,C]);let z=function({itemCount:e,itemProps:t,itemSize:r}){return(0,d.useMemo)(()=>(function({itemCount:e,itemProps:t,itemSize:r}){let s=new Map;return{get(i){for(y(i<e,`Invalid index ${i}`);s.size-1<i;){let e,n=s.size;switch(typeof r){case"function":e=r(n,t);break;case"number":e=r}if(0===n)s.set(n,{size:e,scrollOffset:0});else{let t=s.get(n-1);y(void 0!==t,`Unexpected bounds cache miss for index ${i}`),s.set(n,{scrollOffset:t.scrollOffset+t.size,size:e})}}let n=s.get(i);return y(void 0!==n,`Unexpected bounds cache miss for index ${i}`),n},set(e,t){s.set(e,t)},get size(){return s.size}}})({itemCount:e,itemProps:t,itemSize:r}),[e,t,r])}({itemCount:n,itemProps:a,itemSize:k}),T=(0,d.useCallback)(e=>z.get(e),[z]),Q=(0,d.useCallback)(()=>R({cachedBounds:z,itemCount:n,itemSize:k}),[z,n,k]),N=(0,d.useCallback)(t=>S({cachedBounds:z,containerScrollOffset:b({containerElement:e,direction:s,isRtl:i,scrollOffset:t}),containerSize:E,itemCount:n,overscanCount:c}),[z,e,E,s,i,n,c]);return m(()=>{h(N(("vertical"===s?e?.scrollTop:e?.scrollLeft)??0))},[e,s,N]),m(()=>{if(!e)return;let t=()=>{h(t=>{let{scrollLeft:r,scrollTop:a}=e,o=S({cachedBounds:z,containerScrollOffset:b({containerElement:e,direction:s,isRtl:i,scrollOffset:"vertical"===s?a:r}),containerSize:E,itemCount:n,overscanCount:c});return w(o,t)?t:o})};return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}},[z,e,E,s,n,c]),{getCellBounds:T,getEstimatedSize:Q,scrollToIndex:x(({align:t="auto",containerScrollOffset:r,index:a})=>{let o=function({align:e,cachedBounds:t,index:r,itemCount:s,itemSize:i,containerScrollOffset:n,containerSize:a}){if(r<0||r>=s)throw RangeError(`Invalid index specified: ${r}`,{cause:`Index ${r} is not within the range of 0 - ${s-1}`});let o=R({cachedBounds:t,itemCount:s,itemSize:i}),l=t.get(r),c=Math.max(0,Math.min(o-a,l.scrollOffset)),u=Math.max(0,l.scrollOffset-a+l.size);switch("smart"===e&&(e=n>=u&&n<=c?"auto":"center"),e){case"start":return c;case"end":return u;case"center":return l.scrollOffset<=a/2?0:l.scrollOffset+l.size/2>=o-a/2?o-a:l.scrollOffset+l.size/2-a/2;default:return n>=u&&n<=c?n:n<u?u:c}}({align:t,cachedBounds:z,containerScrollOffset:r,containerSize:E,index:a,itemCount:n,itemSize:k});if(e){if(o=b({containerElement:e,direction:s,isRtl:i,scrollOffset:o}),"function"!=typeof e.scrollTo){let e=N(o);w(u,e)||h(e)}return o}}),startIndexOverscan:p,startIndexVisible:f,stopIndexOverscan:I,stopIndexVisible:v}}({containerElement:E,containerStyle:p,defaultContainerSize:s,direction:"vertical",itemCount:c,itemProps:C,itemSize:(0,d.useMemo)(()=>z?e=>u.getRowHeight(e)??u.getAverageRowHeight():u,[z,u]),onResize:n,overscanCount:o});(0,d.useImperativeHandle)(i,()=>({get element(){return E},scrollToRow({align:e="auto",behavior:t="auto",index:r}){let s=N({align:e,containerScrollOffset:E?.scrollTop??0,index:r});"function"==typeof E?.scrollTo&&E.scrollTo({behavior:t,top:s})}}),[E,N]),m(()=>{if(!E)return;let e=Array.from(E.children).filter((e,t)=>{if(e.hasAttribute("aria-hidden"))return!1;let r=`${M+t}`;return e.setAttribute(O,r),!0});if(z)return u.observeRowElements(e)},[E,z,u,M,F]),(0,d.useEffect)(()=>{M>=0&&F>=0&&a&&a({startIndex:L,stopIndex:U},{startIndex:M,stopIndex:F})},[a,M,L,F,U]);let P=(0,d.useMemo)(()=>{let e=[];if(c>0)for(let t=M;t<=F;t++){let r=T(t);e.push((0,d.createElement)(j,{...C,ariaAttributes:{"aria-posinset":t+1,"aria-setsize":c,role:"listitem"},key:t,index:t,style:{position:"absolute",left:0,transform:`translateY(${r.scrollOffset}px)`,height:z?void 0:r.size,width:"100%"}}))}return e},[j,T,z,c,C,M,F]),_=(0,t.jsx)("div",{"aria-hidden":!0,style:{height:Q(),width:"100%",zIndex:-1}});return(0,d.createElement)(f,{role:"list",...v,className:r,ref:k,style:{position:"relative",maxHeight:"100%",flexGrow:1,overflowY:"auto",...p}},P,e,_)}d.useState,d.useRef;let j=(0,d.lazy)(()=>e.A(5001).then(e=>({default:e.UptimeView}))),E=(0,d.memo)(({service:e,index:r,bulkUptime:s})=>{let a=(0,d.useRef)(null),l=p(a,{once:!0,margin:"200px"});return(0,t.jsxs)(u.motion.div,{ref:a,initial:{opacity:0,scale:.98},animate:l?{opacity:1,scale:1}:{},transition:{duration:.4,delay:Math.min(.05*r,.5)},className:"group",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4 ml-1",children:[(0,t.jsx)("div",{className:"size-12 rounded-2xl bg-muted/40 border-2 flex items-center justify-center p-2 group-hover:bg-primary/5 transition-colors",children:e.icon?(0,t.jsx)("img",{src:e.icon,alt:"",className:"size-full object-contain grayscale group-hover:grayscale-0 transition-all"}):(0,t.jsx)(o.Activity,{size:24,className:"text-muted-foreground/40 group-hover:text-primary transition-colors"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h3",{className:"text-2xl font-black tracking-tight uppercase italic",children:e.name}),(0,t.jsx)(n.Badge,{variant:"outline",className:(0,c.cn)("px-3 py-0.5 rounded-full text-[10px] font-black uppercase tracking-widest border-2","online"===e.health_status?"bg-green-500/5 text-green-600 border-green-500/20":"offline"===e.health_status?"bg-red-500/5 text-red-600 border-red-500/20":"bg-neutral-500/5 text-neutral-600 border-neutral-500/20"),children:e.health_status||"Unknown"})]}),(0,t.jsx)("p",{className:"text-xs font-mono text-muted-foreground opacity-50 truncate mt-0.5",children:e.url})]}),(0,t.jsxs)("div",{className:"hidden md:flex flex-col items-end text-right",children:[(0,t.jsx)("span",{className:"text-[10px] font-black text-muted-foreground/40 uppercase tracking-tighter",children:"Last Ping"}),(0,t.jsx)("span",{className:"text-xs font-black italic",children:e.last_checked?new Date(e.last_checked).toLocaleTimeString():"Never"})]})]}),(0,t.jsx)(i.Card,{className:"overflow-hidden border-2 group-hover:border-primary/20 transition-all duration-500 bg-background shadow-none relative min-h-[200px]",children:(0,t.jsx)(i.CardContent,{className:"py-8 px-8",children:l?(0,t.jsx)(d.Suspense,{fallback:(0,t.jsx)("div",{className:"flex items-center justify-center h-[200px]",children:(0,t.jsx)("div",{className:"size-10 rounded-full border-2 border-t-primary animate-spin opacity-20"})}),children:(0,t.jsx)(j,{serviceId:e.id,initialData:s?s[e.id]:void 0,showBoth:!0})}):(0,t.jsx)("div",{className:"flex items-center justify-center h-[200px]",children:(0,t.jsx)("div",{className:"size-10 rounded-full border-2 border-t-primary animate-spin opacity-20"})})})})]})}),k=(0,d.memo)(({index:e,style:r,services:s,bulkUptime:i,ariaAttributes:n,observeRowElements:a})=>{let o=s[e],l=(0,d.useRef)(null);return p(l,{onEnter:e=>{e.target&&a([e.target])}}),(0,t.jsx)("div",{ref:l,style:r,className:"px-4 pb-8",...n,children:(0,t.jsx)(E,{service:o,index:e,bulkUptime:i})})});function z({search:e=""}){let{data:n,isLoading:c}=(0,r.useQuery)({queryKey:["services"],queryFn:async()=>(await (0,s.apiFetch)("/api/services")).json(),staleTime:3e5,refetchOnWindowFocus:!1}),{data:u,isLoading:h}=(0,r.useQuery)({queryKey:["uptime-bulk"],queryFn:async()=>(await (0,s.apiFetch)("/api/uptime/bulk")).json(),staleTime:3e5,refetchInterval:3e5,refetchOnWindowFocus:!1}),f=n?.filter(e=>e.check_health)||[],p=(0,d.useMemo)(()=>f.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.url.toLowerCase().includes(e.toLowerCase())||(t.group||"").toLowerCase().includes(e.toLowerCase())),[f,e]),m=function({defaultRowHeight:e,key:t}){let[r,s]=(0,d.useState)({key:t,map:new Map});r.key!==t&&s({key:t,map:new Map});let{map:i}=r,n=(0,d.useCallback)(()=>{let t=0;return i.forEach(e=>{t+=e}),0===t?e:t/i.size},[e,i]),a=(0,d.useCallback)(t=>{let r=i.get(t);return void 0!==r?r:(i.set(t,e),e)},[e,i]),o=(0,d.useCallback)((e,t)=>{s(r=>{if(r.map.get(e)===t)return r;let s=new Map(r.map);return s.set(e,t),{...r,map:s}})},[]),l=x(e=>{0!==e.length&&e.forEach(e=>{let{borderBoxSize:t,target:r}=e,s=r.getAttribute(O);y(null!==s,`Invalid ${O} attribute value`);let i=parseInt(s),{blockSize:n}=t[0];n&&o(i,n)})}),[c]=(0,d.useState)(()=>new ResizeObserver(l));(0,d.useEffect)(()=>()=>{c.disconnect()},[c]);let u=(0,d.useCallback)(e=>(e.forEach(e=>c.observe(e)),()=>{e.forEach(e=>c.unobserve(e))}),[c]);return(0,d.useMemo)(()=>({getAverageRowHeight:n,getRowHeight:a,setRowHeight:o,observeRowElements:u}),[n,a,o,u])}({defaultRowHeight:300});if(c||h)return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh] gap-4",children:[(0,t.jsx)(a.Loader2,{className:"h-10 w-10 animate-spin text-primary opacity-50"}),(0,t.jsx)("p",{className:"text-muted-foreground animate-pulse font-medium",children:"Crunching fleet metrics…"})]});let g=f.filter(e=>"online"===e.health_status).length,v=f.filter(e=>"offline"===e.health_status).length;return(0,t.jsxs)("div",{className:"container mx-auto max-w-5xl py-12 px-4 space-y-12",children:[(0,t.jsxs)("header",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-primary/10 text-primary text-xs font-bold uppercase tracking-wider",children:[(0,t.jsx)(o.Activity,{size:14}),"Fleet Monitoring"]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-4xl md:text-5xl font-black tracking-tighter italic",children:"NEXUS STATUS"}),(0,t.jsx)("p",{className:"text-muted-foreground text-lg max-w-2xl font-medium leading-tight",children:"Real-time health telemetry across the entire Nexus fleet."})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"bg-background border-2 rounded-2xl px-8 py-5 flex flex-col items-center justify-center shadow-sm",children:[(0,t.jsx)("span",{className:"text-4xl font-black text-green-500 tabular-nums leading-none",children:g}),(0,t.jsx)("span",{className:"text-[10px] uppercase font-bold text-muted-foreground tracking-widest mt-2 opacity-60",children:"Fleet Online"})]}),v>0&&(0,t.jsxs)("div",{className:"bg-background border-2 border-red-500/20 rounded-2xl px-8 py-5 flex flex-col items-center justify-center shadow-sm",children:[(0,t.jsx)("span",{className:"text-4xl font-black text-red-500 tabular-nums leading-none",children:v}),(0,t.jsx)("span",{className:"text-[10px] uppercase font-bold text-red-500 tracking-widest mt-2 opacity-60",children:"System Failures"})]})]})]})]}),0===p.length?(0,t.jsx)(i.Card,{className:"border-dashed py-20 bg-muted/20 border-2",children:(0,t.jsxs)(i.CardContent,{className:"flex flex-col items-center justify-center gap-4",children:[(0,t.jsx)(l.ShieldCheck,{size:48,className:"text-muted-foreground opacity-20"}),(0,t.jsx)("p",{className:"text-muted-foreground font-medium",children:e?`No fleet components matching "${e}"`:"No services are currently being monitored."})]})}):(0,t.jsx)(C,{rowCount:p.length,rowHeight:m,rowProps:{services:p,bulkUptime:u,observeRowElements:m.observeRowElements},rowComponent:k,style:{height:Math.min(900,window.innerHeight-200),width:"100%"}}),(0,t.jsxs)("footer",{className:"pt-12 border-t flex flex-col items-center gap-4 text-center",children:[(0,t.jsx)(o.Activity,{className:"size-8 text-primary/20"}),(0,t.jsx)("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-muted-foreground/40 max-w-lg",children:"Telemetry resolution: 5 minutes • Data retention: 30 days • Latency source: primary_gateway"})]})]})}e.s(["StatusPage",()=>z],1689)},25087,e=>{e.n(e.i(1689))},5001,e=>{e.v(t=>Promise.all(["static/chunks/b9c12ebba002d6a4.js"].map(t=>e.l(t))).then(()=>t(88020)))}]);