(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,69977,e=>{"use strict";var t=e.i(57715),r=e.i(79548),i=e.i(23738),s=e.i(65833);let a=(0,i.cva)("inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function n({className:e,variant:i,asChild:n=!1,...o}){let l=n?r.Slot:"span";return(0,t.jsx)(l,{"data-slot":"badge",className:(0,s.cn)(a({variant:i}),e),...o})}e.s(["Badge",()=>n])},98837,e=>{"use strict";e.i(93957);var t=e.i(57715),r=e.i(81232),i=e.i(8523),s=e.i(79945),a=e.i(61827),n=e.i(95551),o=e.i(75467),l=r,c=e.i(31862);function d(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class u extends l.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,o.isHTMLElement)(e)&&e.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h({children:e,isPresent:i,anchorX:s,root:a}){let n=(0,l.useId)(),o=(0,l.useRef)(null),h=(0,l.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:m}=(0,l.useContext)(c.MotionConfigContext),p=function(...e){return r.useCallback(function(...e){return t=>{let r=!1,i=e.map(e=>{let i=d(e,t);return r||"function"!=typeof i||(r=!0),i});if(r)return()=>{for(let t=0;t<i.length;t++){let r=i[t];"function"==typeof r?r():d(e[t],null)}}}}(...e),e)}(o,e?.ref);return(0,l.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:l,right:c}=h.current;if(i||!o.current||!e||!t)return;let d="left"===s?`left: ${l}`:`right: ${c}`;o.current.dataset.motionPopId=n;let u=document.createElement("style");m&&(u.nonce=m);let p=a??document.head;return p.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${d}px !important;
            top: ${r}px !important;
          }
        `),()=>{p.contains(u)&&p.removeChild(u)}},[i]),(0,t.jsx)(u,{isPresent:i,childRef:o,sizeRef:h,children:l.cloneElement(e,{ref:p})})}let m=({children:e,initial:i,isPresent:a,onExitComplete:o,custom:l,presenceAffectsLayout:c,mode:d,anchorX:u,root:m})=>{let x=(0,s.useConstant)(p),f=(0,r.useId)(),g=!0,v=(0,r.useMemo)(()=>(g=!1,{id:f,initial:i,isPresent:a,custom:l,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;o&&o()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[a,x,o]);return c&&g&&(v={...v}),(0,r.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[a]),r.useEffect(()=>{a||x.size||!o||o()},[a]),"popLayout"===d&&(e=(0,t.jsx)(h,{isPresent:a,anchorX:u,root:m,children:e})),(0,t.jsx)(n.PresenceContext.Provider,{value:v,children:e})};function p(){return new Map}var x=e.i(37905);let f=e=>e.key||"";function g(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let v=({children:e,custom:n,initial:o=!0,onExitComplete:l,presenceAffectsLayout:c=!0,mode:d="sync",propagate:u=!1,anchorX:h="left",root:p})=>{let[v,y]=(0,x.usePresence)(u),b=(0,r.useMemo)(()=>g(e),[e]),j=u&&!v?[]:b.map(f),w=(0,r.useRef)(!0),N=(0,r.useRef)(b),C=(0,s.useConstant)(()=>new Map),[k,_]=(0,r.useState)(b),[P,L]=(0,r.useState)(b);(0,a.useIsomorphicLayoutEffect)(()=>{w.current=!1,N.current=b;for(let e=0;e<P.length;e++){let t=f(P[e]);j.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[P,j.length,j.join("-")]);let E=[];if(b!==k){let e=[...b];for(let t=0;t<P.length;t++){let r=P[t],i=f(r);j.includes(i)||(e.splice(t,0,r),E.push(r))}return"wait"===d&&E.length&&(e=E),L(g(e)),_(b),null}let{forceRender:S}=(0,r.useContext)(i.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:P.map(e=>{let r=f(e),i=(!u||!!v)&&(b===P||j.includes(r));return(0,t.jsx)(m,{isPresent:i,initial:(!w.current||!!o)&&void 0,custom:n,presenceAffectsLayout:c,mode:d,root:p,onExitComplete:i?void 0:()=>{if(!C.has(r))return;C.set(r,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(S?.(),L(N.current),u&&y?.(),l&&l())},anchorX:h,children:e},r)})})};e.s(["AnimatePresence",()=>v],98837)},44048,e=>{"use strict";var t=e.i(57715),r=e.i(81232),i=e.i(49771),s=e.i(84416),a=e.i(63853),n=e.i(87092),o=e.i(71101),l=e.i(93740),c=e.i(18855),d=e.i(69977),u=e.i(65833),h=e.i(88344),m=e.i(98837),p=e.i(3243),x=e.i(12445),f=e.i(88020),g=e.i(18617);let v={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.05}}},y={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};function b({search:e}){let[b,j]=(0,r.useState)(localStorage.getItem("public_view_mode")||"grid"),{data:w=[],isLoading:N}=(0,x.useQuery)({queryKey:["services"],queryFn:async()=>{let e=await (0,p.apiFetch)("/api/services"),t=await e.json(),r=!!localStorage.getItem("nexus_user");return t?.filter(e=>!!e.public&&(!e.auth_required||!!r))||[]}});(0,r.useEffect)(()=>{localStorage.setItem("public_view_mode",b)},[b]);let C=w.filter(t=>t.name.toLowerCase().includes(e.toLowerCase())||t.group.toLowerCase().includes(e.toLowerCase())),k={};return C.forEach(e=>{k[e.group]||(k[e.group]=[]),k[e.group].push(e)}),(0,t.jsx)("div",{className:"min-h-[calc(100vh-4rem)] bg-neutral-50/50 dark:bg-neutral-950 px-4 md:px-8 pb-16",children:(0,t.jsxs)("div",{className:"container mx-auto py-12",children:[(0,t.jsxs)(h.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-12",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h1",{className:"text-4xl font-black tracking-tight text-foreground",children:"Welcome Home"}),(0,t.jsx)("p",{className:"text-muted-foreground text-lg",children:"Your personal command center."})]}),(0,t.jsxs)("div",{className:"flex border rounded-xl h-11 items-center overflow-hidden bg-card p-1 shadow-sm",children:[(0,t.jsxs)(l.Button,{variant:"grid"===b?"secondary":"ghost",size:"sm",className:"rounded-lg h-full px-4",onClick:()=>j("grid"),children:[(0,t.jsx)(s.LayoutGrid,{className:"h-4 w-4 mr-2"})," Grid"]}),(0,t.jsxs)(l.Button,{variant:"list"===b?"secondary":"ghost",size:"sm",className:"rounded-lg h-full px-4",onClick:()=>j("list"),children:[(0,t.jsx)(a.List,{className:"h-4 w-4 mr-2"})," List"]})]})]}),N?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-32",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(n.Loader2,{className:"animate-spin h-12 w-12 text-primary"}),(0,t.jsx)("div",{className:"absolute inset-0 blur-xl bg-primary/20 animate-pulse rounded-full"})]}),(0,t.jsx)("p",{className:"text-muted-foreground mt-6 text-xl font-medium",children:"Powering up your services..."})]}):0===C.length?(0,t.jsxs)(h.motion.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-32 border-2 border-dashed rounded-3xl bg-card/50",children:[(0,t.jsx)(o.Search,{className:"mx-auto h-20 w-20 text-muted-foreground mb-6 opacity-10"}),(0,t.jsx)("h3",{className:"text-2xl font-black mb-2",children:"No results found"}),(0,t.jsx)("p",{className:"text-muted-foreground text-lg max-w-md mx-auto",children:"We couldn't find any services matching your search query."})]}):(0,t.jsx)("div",{className:"space-y-16",children:(0,t.jsx)(m.AnimatePresence,{mode:"popLayout",children:Object.entries(k).map(([e,r])=>(0,t.jsxs)(h.motion.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-black tracking-tight",children:e}),(0,t.jsx)("div",{className:"flex-1 h-px bg-gradient-to-r from-border to-transparent"})]}),(0,t.jsx)(h.motion.div,{variants:v,initial:"hidden",animate:"show",className:(0,u.cn)("grid gap-4","grid"===b?"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4":"grid-cols-1"),children:r.map(e=>(0,t.jsx)(h.motion.div,{variants:y,layout:!0,onClick:()=>window.open(e.url,e.new_tab?"_blank":"_self"),className:"block group cursor-pointer",children:(0,t.jsx)(c.Card,{className:(0,u.cn)("h-full transition-all duration-300 p-0 hover:shadow-xl hover:shadow-primary/5 hover:border-primary/50 overflow-hidden","list"===b&&"hover:translate-x-1","grid"===b&&"hover:-translate-y-1"),children:(0,t.jsxs)(c.CardContent,{className:(0,u.cn)("p-5 h-auto flex flex-row gap-4","list"===b&&"p-3 flex items-center gap-6"),children:[(0,t.jsxs)("div",{className:(0,u.cn)("rounded-2xl border bg-muted/30 flex flex-row items-center justify-center relative overflow-hidden transition-colors group-hover:bg-primary/5 group-hover:border-primary/20","grid"===b?"size-16 mb-2":"size-14"),children:[e.icon&&(0,t.jsx)("div",{className:"absolute inset-0 opacity-10 blur-xl scale-150 transition-transform group-hover:scale-[2]",style:{backgroundImage:`url(${(0,p.resolveUrl)(e.icon)})`,backgroundSize:"cover",backgroundPosition:"center"}}),e.icon?(0,t.jsx)("img",{src:(0,p.resolveUrl)(e.icon),alt:e.name,className:"relative z-10 max-w-[65%] max-h-[65%] object-contain drop-shadow-md transition-transform group-hover:scale-110"}):(0,t.jsx)(i.Server,{size:"grid"===b?32:24,className:"relative z-10 text-muted-foreground"})]}),(0,t.jsxs)("div",{className:"min-h-0 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("h3",{className:"font-bold text-lg truncate group-hover:text-primary transition-colors",children:e.name}),e.auth_required&&(0,t.jsx)(d.Badge,{variant:"outline",className:"text-[10px] h-4 py-0 px-1 border-primary/20 text-primary bg-primary/5",children:"Auth"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground truncate opacity-70 group-hover:opacity-100 transition-opacity",children:e.url.replace(/^https?:\/\//,"")}),e.check_health&&(0,t.jsx)("div",{onClick:e=>{e.preventDefault(),e.stopPropagation()},children:(0,t.jsxs)(g.Dialog,{children:[(0,t.jsx)(g.DialogTrigger,{asChild:!0,children:(0,t.jsx)("div",{className:(0,u.cn)("size-3 rounded-full cursor-pointer hover:scale-125 transition-all ring-offset-background ring-2 ring-transparent hover:ring-primary/20","online"===e.health_status?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)]":"offline"===e.health_status?"bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.5)]":"bg-neutral-300 dark:bg-neutral-700"),title:e.health_status?`Status: ${e.health_status} (Click for history)`:"Status: unknown (Click for history)"})}),(0,t.jsxs)(g.DialogContent,{className:"sm:max-w-[425px] rounded-3xl",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)(g.DialogHeader,{children:[(0,t.jsxs)(g.DialogTitle,{className:"text-2xl font-black",children:[e.name," Uptime"]}),(0,t.jsx)(g.DialogDescription,{children:"Historic performance for the last 30 days."})]}),(0,t.jsx)(f.UptimeView,{serviceId:e.id})]})]})})]})]})]})})},e.id))})]},e))})})]})})}e.s(["PublicDashboard",()=>b])},45799,e=>{e.n(e.i(44048))}]);